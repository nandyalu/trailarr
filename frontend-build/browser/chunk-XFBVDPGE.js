import{E as g,I as c,Kb as d,Mb as h,T as f,Yb as o,n as p,v as u}from"./chunk-ZE3AX3HL.js";var $=(()=>{class i{constructor(){this.http=c(d),this.settingsUrl=o.apiUrl+o.settings,this.filesUrl=o.apiUrl+o.files,this.settingsResource=h(()=>this.settingsUrl),this.filesPath=f(""),this.filesResource=h(()=>({url:this.filesUrl+"files_simple",params:{path:this.filesPath()}}),{defaultValue:[]})}getServerStats(){var t=this.settingsUrl+"stats";return this.http.get(t)}updateSetting(t,e){let n=this.settingsUrl+"update";typeof e=="string"&&e===""&&(e=" ");let a={key:t,value:e};return this.http.put(n,a).pipe(u(s=>{let r="";return s.error instanceof ErrorEvent?r=`Error: ${s.error.message}`:r=`Error: ${s.status} ${s.error.detail}`,p(r)}))}updatePassword(t,e,n){let a=this.settingsUrl+"updatelogin",s={current_password:t,new_username:e,new_password:n};return this.http.put(a,s).pipe(u(r=>{let l="";return r.error instanceof ErrorEvent?l=`Error: ${r.error.message}`:l=`Error: ${r.status} ${r.error.detail}`,p(l)}))}logout(){let t=this.settingsUrl+"logout";return this.http.post(t,{})}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275prov=g({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();export{$ as a};
