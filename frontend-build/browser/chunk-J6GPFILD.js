import{a as Q}from"./chunk-UJS2SZYV.js";import{A as F,e as T,j as O,s as N,t as q,u as z,v as A}from"./chunk-UWS3ETMB.js";import{Aa as i,Ba as l,Ha as w,I as S,Ia as m,Ka as y,L as a,M as c,Oa as b,Pa as M,T as _,U as C,Ua as n,Va as V,Ya as I,Za as k,_a as x,ba as f,ha as D,pb as h,rb as E,xa as P,ya as v,za as u}from"./chunk-ZE3AX3HL.js";var W=["profileSelectDialog"],j=(o,p)=>p.id;function B(o,p){if(o&1&&(i(0,"option",5),n(1),l()),o&2){let r=p.$implicit,t=y();u("value",r.id)("selected",r.id===t.selectedProfileID()),f(),V(r.customfilter.filter_name)}}var X=(()=>{class o{constructor(){this.profileService=S(Q),this.allProfiles=this.profileService.allProfiles.value,this.onSubmit=h(),this.onClosed=h(),this.selectedProfileID=_(0),this.profileSelectDialog=E.required("profileSelectDialog"),this.showDialog=()=>this.profileSelectDialog().nativeElement.showModal(),this.closeDialog=()=>this.profileSelectDialog().nativeElement.close(),C(()=>{this.allProfiles().length>0?this.selectedProfileID.set(this.allProfiles()[0].id):this.selectedProfileID.set(0)})}ngAfterViewInit(){this.showDialog()}onConfirm(){this.onSubmit.emit(this.selectedProfileID()),this.closeDialog()}onCancel(){this.onClosed.emit(),this.closeDialog()}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275cmp=D({type:o,selectors:[["app-profile-select-dialog"]],viewQuery:function(t,e){t&1&&b(e.profileSelectDialog,W,5),t&2&&M()},outputs:{onSubmit:"onSubmit",onClosed:"onClosed"},decls:17,vars:2,consts:[["profileSelectDialog",""],[3,"close"],[1,"dialog-content",3,"click"],["for","profile-select"],["name","profiles","id","profile-select","required","true",3,"ngModelChange","ngModel"],[3,"value","selected"],[1,"buttons-row"],[1,"primary",3,"click","disabled"],[1,"danger",3,"click"]],template:function(t,e){if(t&1){let s=w();i(0,"dialog",1,0),m("close",function(){return a(s),c(e.onCancel())}),i(2,"div",2),m("click",function(d){return a(s),c(d.stopPropagation())}),i(3,"h3"),n(4,"Select Trailer Profile"),l(),i(5,"p"),n(6,"Select a profile to use for searching/downloading"),l(),i(7,"label",3),n(8,"Select a Profile:"),l(),i(9,"select",4),x("ngModelChange",function(d){return a(s),k(e.selectedProfileID,d)||(e.selectedProfileID=d),c(d)}),P(10,B,2,3,"option",5,j),l(),i(12,"div",6)(13,"button",7),m("click",function(){return a(s),c(e.onConfirm())}),n(14,"Confirm"),l(),i(15,"button",8),m("click",function(){return a(s),c(e.onCancel())}),n(16,"Cancel"),l()()()()}t&2&&(f(9),I("ngModel",e.selectedProfileID),f(),v(e.allProfiles()),f(3),u("disabled",!e.selectedProfileID()))},dependencies:[F,q,z,N,T,A,O],styles:[".dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;padding:1rem;min-width:max(25vw,min(300px,80vw))}h3[_ngcontent-%COMP%]{font-size:larger;font-weight:700;margin:1rem}label[_ngcontent-%COMP%]{font-size:1rem;color:var(--color-on-surface);padding:0 .5rem;transition:.5s}select[_ngcontent-%COMP%]{min-width:15rem;height:3rem;margin:auto;padding:.25rem .5rem;font-family:inherit;font-size:1.25rem;background-color:var(--color-surface-container-high);color:var(--color-tertiary);border:1px solid var(--color-outline);border-radius:.5rem}.ng-touched.ng-invalid[_ngcontent-%COMP%]:not(form):not(div){border:2px solid var(--color-danger)}"],changeDetection:0})}}return o})();export{X as a};
