import{Ac as f,Bc as o,G as h,_ as c,da as g,r as u,sa as d,yc as m}from"./chunk-WY7P6QTV.js";var j=(()=>{let s=class s{constructor(){this.http=g(m),this.settingsUrl=o.apiUrl+o.settings,this.filesUrl=o.apiUrl+o.files,this.settingsResource=f(()=>this.settingsUrl),this.filesPath=d(""),this.filesResource=f(()=>({url:this.filesUrl+"files_simple",params:{path:this.filesPath()}}),{defaultValue:[]})}getServerStats(){var t=this.settingsUrl+"stats";return this.http.get(t)}updateSetting(t,e){let a=this.settingsUrl+"update";typeof e=="string"&&e===""&&(e=" ");let l={key:t,value:e};return this.http.put(a,l).pipe(h(i=>{let r="";return i.error instanceof ErrorEvent?r=`Error: ${i.error.message}`:r=`Error: ${i.status} ${i.error.detail}`,u(r)}))}updatePassword(t,e,a){let l=this.settingsUrl+"updatelogin",i={current_password:t,new_username:e,new_password:a};return this.http.put(l,i).pipe(h(r=>{let p="";return r.error instanceof ErrorEvent?p=`Error: ${r.error.message}`:p=`Error: ${r.status} ${r.error.detail}`,u(p)}))}logout(){let t=this.settingsUrl+"logout";return this.http.post(t,{})}};s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=c({token:s,factory:s.\u0275fac,providedIn:"root"});let n=s;return n})();export{j as a};
