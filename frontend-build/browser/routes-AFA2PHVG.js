import{a as He}from"./chunk-J6GPFILD.js";import{a as Fe,b as qe,d as Le,e as Ne,f as _e}from"./chunk-2DNJ6CWT.js";import{a as Qe}from"./chunk-5NBK76TM.js";import{a as Be,d as ze}from"./chunk-OYIZHJWC.js";import{a as Re}from"./chunk-UJS2SZYV.js";import"./chunk-44HYGP5F.js";import{f as pe,p as H}from"./chunk-2CLW3XS4.js";import{A as $,C as N,b as te,e as ie,j as ne,y as Ze}from"./chunk-UWS3ETMB.js";import{a as B}from"./chunk-ZGO7C4B7.js";import{$a as le,Aa as i,Ab as ce,Ba as o,Ca as f,Da as Z,Db as ee,Ea as j,Ga as Ce,Ha as v,I as P,Ia as u,Ja as U,Ka as s,L as m,La as be,M as p,Ma as ye,N as w,Na as Oe,O as R,Oa as I,Pa as F,Qa as he,Qb as Ie,Ra as ae,Rb as me,Sa as G,T as S,U as oe,Ua as l,Va as x,Wa as y,Xa as ve,Ya as Y,Za as K,_ as L,_a as X,aa as De,ab as J,ba as r,bb as T,c as Me,cb as xe,db as re,fb as de,ga as Pe,gb as we,ha as b,ib as k,jb as V,ka as W,lb as Ee,ma as se,mb as q,n as ue,ob as ke,pb as O,qb as D,rb as E,ta as _,ua as g,v as fe,va as Se,wa as Te,xa as z,ya as A,yb as Ve,za as h}from"./chunk-ZE3AX3HL.js";var Ae=(()=>{class t{transform(e){return Fe(e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275pipe=W({name:"durationConvert",type:t,pure:!0})}}return t})();var je=(()=>{class t{transform(e){return qe(e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275pipe=W({name:"durationSecondsConvert",type:t,pure:!0})}}return t})();var ge=(()=>{class t{transform(e){return Ne(e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275pipe=W({name:"fileSize",type:t,pure:!0})}}return t})();var at=t=>["/settings","profiles",t],lt=(t,d)=>d.id;function rt(t,d){t&1&&(w(),i(0,"svg",7),f(1,"path",20),o())}function dt(t,d){t&1&&(w(),i(0,"svg",8),f(1,"path",21),o())}function st(t,d){if(t&1&&l(0),t&2){let e=s().$implicit;y(" (",e.audio_language,") ")}}function ct(t,d){if(t&1&&l(0),t&2){let e=s(2).$implicit;y(" (",e.subtitle_language,") ")}}function mt(t,d){if(t&1&&(i(0,"span",13),l(1,"\u2022"),o(),i(2,"span",12),l(3),_(4,ct,1,1),o()),t&2){let e=s().$implicit;r(3),y(" ",e.subtitle_format," "),r(),g(e.subtitle_language?4:-1)}}function pt(t,d){t&1&&(i(0,"span",17),l(1,"Unknown"),o())}function _t(t,d){if(t&1&&(i(0,"span",22),l(1),o()),t&2){let e=s(2).$implicit,n=s(2);h("routerLink",de(2,at,e.profile_id)),r(),y(" ",n.profilesMap().get(e.profile_id)||"Deleted"," ")}}function gt(t,d){t&1&&(i(0,"span",17),l(1,"Deleted"),o())}function ut(t,d){if(t&1&&_(0,_t,2,4,"span",22)(1,gt,2,0,"span",17),t&2){let e=s().$implicit,n=s(2).profilesMap().has(e.profile_id);g(n?0:1)}}function ft(t,d){if(t&1&&(i(0,"a",19),w(),i(1,"svg",23),f(2,"path",24),o()()),t&2){let e=s().$implicit,n=s(2);h("href",n.getYouTubeUrl(e.youtube_id),L)}}function Ct(t,d){if(t&1&&(i(0,"div",4)(1,"div",5)(2,"div",6),_(3,rt,2,0,":svg:svg",7)(4,dt,2,0,":svg:svg",8),o(),i(5,"div",9)(6,"h4",10),l(7),o(),i(8,"div",11)(9,"span",12),l(10),o(),i(11,"span",13),l(12,"\u2022"),o(),i(13,"span",12),l(14),o(),i(15,"span",13),l(16,"\u2022"),o(),i(17,"span",12),l(18),_(19,st,1,1),o(),_(20,mt,5,2),i(21,"span",13),l(22,"\u2022"),o(),i(23,"span",12),l(24),k(25,"fileSize"),o(),i(26,"span",13),l(27,"\u2022"),o(),i(28,"span",12),l(29),k(30,"durationSecondsConvert"),o()(),i(31,"div",14),l(32),k(33,"date"),o()()(),i(34,"div",15)(35,"span",16),l(36,"Profile:"),o(),_(37,pt,2,0,"span",17)(38,ut,2,1),o(),i(39,"div",18),_(40,ft,3,1,"a",19),o()()),t&2){let e=d.$implicit;r(3),g(e.file_exists?3:4),r(4),x(e.file_name),r(3),y("",e.resolution,"p"),r(4),x(e.video_format),r(4),y(" ",e.audio_format," "),r(),g(e.audio_language?19:-1),r(),g(e.subtitle_format?20:-1),r(4),x(V(25,12,e.size)),r(5),x(V(30,14,e.duration)),r(3),y("Added: ",V(33,16,e.added_at)),r(5),g(e.profile_id===0?37:38),r(3),g(e.youtube_id&&!e.youtube_id.startsWith("unknown")?40:-1)}}function ht(t,d){if(t&1&&(i(0,"div",2),z(1,Ct,41,18,"div",4,lt),o()),t&2){let e=s();r(),A(e.downloads())}}function vt(t,d){t&1&&(i(0,"div",3)(1,"p"),l(2,"No downloads recorded yet."),o()())}var Ue=(()=>{class t{constructor(){this.profileService=P(Re),this.downloads=D.required(),this.hasDownloads=q(()=>this.downloads().length>0),this.profilesMap=q(()=>{let e=this.profileService.allProfiles.value(),n=new Map;return e.forEach(a=>{n.set(a.id,a.customfilter.filter_name)}),n})}getYouTubeUrl(e){return`https://www.youtube.com/watch?v=${e}`}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=b({type:t,selectors:[["media-downloads"]],inputs:{downloads:[1,"downloads"]},decls:7,vars:2,consts:[[1,"downloads-section"],[1,"title-block"],[1,"downloads-list"],[1,"no-downloads"],[1,"download-card"],[1,"download-main"],[1,"download-icon"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","title","File Deleted"],[1,"download-info"],[1,"download-title"],[1,"download-meta"],[1,"meta-item"],[1,"meta-separator"],[1,"download-date"],[1,"download-profile"],[1,"profile-label"],[1,"profile-name"],[1,"download-actions"],["target","_blank","title","View on YouTube",1,"yt-link",3,"href"],["d","M350-234h177q17.25 0 28.63-11.38Q567-256.75 567-274v-50l82 47v-166l-82 47v-50q0-17.25-11.37-28.63Q544.25-486 527-486H350q-17.25 0-28.62 11.37Q310-463.25 310-446v172q0 17.25 11.38 28.62Q332.75-234 350-234ZM218-64q-28.73 0-50.86-22.14Q145-108.28 145-137v-686q0-28.72 22.14-50.86Q189.27-896 218-896h358l239 240v519q0 28.72-22.14 50.86T742-64H218Zm321-559v-200H218v686h524v-486H539ZM218-823v200-200 686-686Z"],["d","M880-275 720-435v111l-60-60v-356H304l-60-60h416q24 0 42 18t18 42v215l160-160v410ZM848-27 39-836l42-42L890-69l-42 42ZM482-562Zm-84 84ZM159-800l60 60h-79v520h520v-79l60 60v19q0 24-18 42t-42 18H140q-24 0-42-18t-18-42v-520q0-24 18-42t42-18h19Zm73 482v-21q0-46 45-72.5T400-438q78 0 123 26.5t45 72.5v21H232Z"],[1,"profile-name","link",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24"],["d","M10,15L15.19,12L10,9V15M21.56,7.17C21.69,7.64 21.78,8.27 21.84,9.07C21.91,9.87 21.94,10.56 21.94,11.16L22,12C22,14.19 21.84,15.8 21.56,16.83C21.31,17.73 20.73,18.31 19.83,18.56C19.36,18.69 18.5,18.78 17.18,18.84C15.88,18.91 14.69,18.94 13.59,18.94L12,19C7.81,19 5.2,18.84 4.17,18.56C3.27,18.31 2.69,17.73 2.44,16.83C2.31,16.36 2.22,15.73 2.16,14.93C2.09,14.13 2.06,13.44 2.06,12.84L2,12C2,9.81 2.16,8.2 2.44,7.17C2.69,6.27 3.27,5.69 4.17,5.44C4.64,5.31 5.5,5.22 6.82,5.16C8.12,5.09 9.31,5.06 10.41,5.06L12,5C16.19,5 18.8,5.16 19.83,5.44C20.73,5.69 21.31,6.27 21.56,7.17Z"]],template:function(n,a){n&1&&(i(0,"div",0)(1,"div",1)(2,"h3"),l(3,"Downloads"),o()(),f(4,"hr"),_(5,ht,3,0,"div",2),_(6,vt,3,0,"div",3),o()),n&2&&(r(5),g(a.hasDownloads()?5:-1),r(),g(a.hasDownloads()?-1:6))},dependencies:[me,ee,je,ge],styles:["[_nghost-%COMP%]{display:contents}.downloads-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin:1rem}.title-block[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;gap:.5rem}.title-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;margin-block:0}.title-block[_ngcontent-%COMP%]   .icononly-button[_ngcontent-%COMP%]{height:2.5rem;width:2.5rem}.title-block[_ngcontent-%COMP%]   .refresh-icon[_ngcontent-%COMP%]{cursor:pointer;fill:var(--color-on-surface)}.downloads-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.download-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;background-color:var(--color-surface-container-high);color:var(--color-on-surface-variant);border-radius:.5rem;border:1px solid var(--color-outline)}.download-main[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex:1}.download-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;fill:var(--color-on-surface)}.download-info[_ngcontent-%COMP%]{flex:1}.download-info[_ngcontent-%COMP%]   .download-title[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;margin-block:0;margin-bottom:.5rem}.download-info[_ngcontent-%COMP%]   .download-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;color:var(--color-secondary);flex-wrap:wrap}.download-info[_ngcontent-%COMP%]   .download-meta[_ngcontent-%COMP%]   .meta-separator[_ngcontent-%COMP%]{color:var(--color-outline)}.download-info[_ngcontent-%COMP%]   .download-date[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-secondary);margin-top:.25rem}.download-profile[_ngcontent-%COMP%]{margin:1rem;font-size:.875rem;color:var(--color-secondary)}.download-profile[_ngcontent-%COMP%]   .profile-label[_ngcontent-%COMP%]{font-weight:600;margin-right:.25rem}.download-profile[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{font-style:italic}.download-profile[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{background:var(--color-secondary-container);color:var(--color-on-secondary-container);text-decoration:none;cursor:pointer}.download-profile[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{text-decoration:underline}.download-actions[_ngcontent-%COMP%]   .yt-link[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:36px;height:36px;border-radius:50%;background:red;transition:transform .2s}.download-actions[_ngcontent-%COMP%]   .yt-link[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.download-actions[_ngcontent-%COMP%]   .yt-link[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;fill:#fff}.no-downloads[_ngcontent-%COMP%]{text-align:center;color:var(--color-secondary);font-style:italic}@media(max-width:768px){.download-card[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;position:relative}.download-icon[_ngcontent-%COMP%]{display:none}.download-profile[_ngcontent-%COMP%]{margin:.5rem 0}.download-actions[_ngcontent-%COMP%]{position:absolute;bottom:1rem;right:1rem}}"],changeDetection:0})}}return t})();var xt=["videoEditDialog"],wt=["videoElement"];function Mt(t,d){t&1&&(f(0,"app-load-indicator"),i(1,"span",25),l(2,"Processing video..."),o())}function Dt(t,d){if(t&1){let e=v();i(0,"div",24)(1,"button",26),u("click",function(){m(e);let a=s();return p(a.trimVideo())}),l(2,"Trim Video"),o(),i(3,"button",27),u("click",function(){m(e);let a=s();return p(a.closeVideoEditDialog())}),l(4,"Cancel"),o()()}}var Ge=(()=>{class t{constructor(){this.filesService=P(N),this.webSocketService=P(H),this.filePath=D.required(),this.fileName=D.required(),this.closed=O(),this.videoTrimmed=O(),this.startTimestamp=S("0"),this.endTimestamp=S(""),this.outputFileName=S(""),this.isProcessing=S(!1),this.videoEditDialog=E.required("videoEditDialog"),this.videoElement=E("videoElement")}get startTime(){return this.startTimestamp()}set startTime(e){this.startTimestamp.set(e)}get endTime(){return this.endTimestamp()}set endTime(e){this.endTimestamp.set(e)}get outputFile(){return this.outputFileName()}set outputFile(e){this.outputFileName.set(e)}ngAfterViewInit(){this.openDialog();let e=this.fileName(),n=e.lastIndexOf(".");if(n>0){let c=e.substring(0,n),C=e.substring(n);this.outputFileName.set(`${c}_trimmed${C}`)}else this.outputFileName.set(`${e}_trimmed`);let a=this.videoElement()?.nativeElement;a&&a.addEventListener("loadedmetadata",()=>{a.duration&&!this.endTimestamp()&&this.endTimestamp.set(this.formatTime(a.duration))})}openDialog(){this.videoEditDialog().nativeElement.showModal()}closeDialog(){this.videoEditDialog().nativeElement.close()}setCurrentTimeAsStart(){let e=this.videoElement()?.nativeElement;e&&this.startTimestamp.set(this.formatTime(e.currentTime))}setCurrentTimeAsEnd(){let e=this.videoElement()?.nativeElement;e&&this.endTimestamp.set(this.formatTime(e.currentTime))}seekToStart(){let e=this.videoElement()?.nativeElement;e&&this.startTimestamp()&&(e.currentTime=this.parseTime(this.startTimestamp()))}seekToEnd(){let e=this.videoElement()?.nativeElement;e&&this.endTimestamp()&&(e.currentTime=this.parseTime(this.endTimestamp()))}formatTime(e){let n=Math.floor(e/3600),a=Math.floor(e%3600/60),c=Math.floor(e%60);return n>0?`${n.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}`:`${a.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}`}parseTime(e){let n=e.split(":").map(a=>parseInt(a,10));return n.length===3?n[0]*3600+n[1]*60+n[2]:n.length===2?n[0]*60+n[1]:n.length===1?n[0]:0}trimVideo(){if(!this.validateInputs())return;this.isProcessing.set(!0);let n=`${this.filePath().substring(0,this.filePath().lastIndexOf("/"))}/${this.outputFileName()}`,a=this.parseTime(this.startTimestamp()),c=this.parseTime(this.endTimestamp());this.filesService.trimVideoApiV1FilesTrimVideoPost({file_path:this.filePath(),output_file:n,start_timestamp:a,end_timestamp:c}).subscribe({next:C=>{this.webSocketService.showToast(C,"success"),this.videoTrimmed.emit(),this.closeVideoEditDialog()},error:C=>{console.error("Error trimming video:",C),this.webSocketService.showToast("Failed to trim video","error"),this.isProcessing.set(!1)},complete:()=>{this.isProcessing.set(!1)}})}validateInputs(){let e=this.parseTime(this.startTimestamp()),n=this.parseTime(this.endTimestamp());return e>=n?(this.webSocketService.showToast("Start time must be less than end time","error"),!1):this.outputFileName().trim()?!0:(this.webSocketService.showToast("Output filename is required","error"),!1)}closeVideoEditDialog(){this.closeDialog(),this.closed.emit()}getVideoUrl(){return`/api/v1/files/video?file_path=${encodeURIComponent(this.filePath())}`}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=b({type:t,selectors:[["video-edit-dialog"]],viewQuery:function(n,a){n&1&&I(a.videoEditDialog,xt,5)(a.videoElement,wt,5),n&2&&F(2)},inputs:{filePath:[1,"filePath"],fileName:[1,"fileName"]},outputs:{closed:"closed",videoTrimmed:"videoTrimmed"},decls:41,vars:5,consts:[["videoEditDialog",""],["videoElement",""],[3,"click"],[1,"video-edit-dialog",3,"click"],[1,"dialog-header"],[1,"close",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960"],["d","m249-186-63-63 231-231-231-230 63-64 231 230 231-230 63 64-230 230 230 231-63 63-231-230-231 230Z"],[1,"video-container"],["controls",""],["type","video/mp4",3,"src"],[1,"trim-controls"],[1,"time-inputs-row"],[1,"time-input-group"],["for","startTime"],[1,"input-with-button"],["id","startTime","type","text","placeholder","00:00:00 or 00:00","pattern","^(\\d{1,2}:)?\\d{1,2}:\\d{2}$",3,"ngModelChange","ngModel"],["type","button",1,"secondary","small",3,"click"],["for","endTime"],["id","endTime","type","text","placeholder","00:00:00 or 00:00","pattern","^(\\d{1,2}:)?\\d{1,2}:\\d{2}$",3,"ngModelChange","ngModel"],[1,"output-input-group"],["for","outputFile"],["id","outputFile","type","text","placeholder","filename_trimmed.mp4",3,"ngModelChange","ngModel"],[1,"dialog-actions"],[1,"action-buttons"],[1,"processing-text"],[1,"primary",3,"click"],[1,"tertiary",3,"click"]],template:function(n,a){if(n&1){let c=v();i(0,"dialog",2,0),u("click",function(){return m(c),p(a.closeVideoEditDialog())}),i(2,"div",3),u("click",function(M){return m(c),p(M.stopPropagation())}),i(3,"div",4)(4,"h2"),l(5,"Trim Video"),o(),i(6,"i",5),u("click",function(){return m(c),p(a.closeVideoEditDialog())}),w(),i(7,"svg",6),f(8,"path",7),o()()(),R(),i(9,"div",8)(10,"video",9,1),f(12,"source",10),l(13," Your browser does not support the video tag. "),o()(),i(14,"div",11)(15,"div",12)(16,"div",13)(17,"label",14),l(18,"Start Time:"),o(),i(19,"div",15)(20,"input",16),X("ngModelChange",function(M){return m(c),K(a.startTime,M)||(a.startTime=M),p(M)}),o(),i(21,"button",17),u("click",function(){return m(c),p(a.setCurrentTimeAsStart())}),l(22,"Use Current"),o(),i(23,"button",17),u("click",function(){return m(c),p(a.seekToStart())}),l(24,"Seek"),o()()(),i(25,"div",13)(26,"label",18),l(27,"End Time:"),o(),i(28,"div",15)(29,"input",19),X("ngModelChange",function(M){return m(c),K(a.endTime,M)||(a.endTime=M),p(M)}),o(),i(30,"button",17),u("click",function(){return m(c),p(a.setCurrentTimeAsEnd())}),l(31,"Use Current"),o(),i(32,"button",17),u("click",function(){return m(c),p(a.seekToEnd())}),l(33,"Seek"),o()()()(),i(34,"div",20)(35,"label",21),l(36,"Output Filename:"),o(),i(37,"input",22),X("ngModelChange",function(M){return m(c),K(a.outputFile,M)||(a.outputFile=M),p(M)}),o()()(),i(38,"div",23),_(39,Mt,3,0)(40,Dt,5,0,"div",24),o()()()}n&2&&(r(12),h("src",a.getVideoUrl(),L),r(8),Y("ngModel",a.startTime),r(9),Y("ngModel",a.endTime),r(8),Y("ngModel",a.outputFile),r(2),g(a.isProcessing()?39:40))},dependencies:[$,te,ie,Ze,ne,B],styles:[".video-edit-dialog[_ngcontent-%COMP%]{background:var(--color-surface-container-highest);border-radius:8px;padding:0;max-width:90vw;max-height:90vh;overflow:hidden}.video-edit-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 1.5rem;border-bottom:1px solid var(--color-outline);background:var(--color-surface-container-high)}.video-edit-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:var(--color-on-surface)}.video-edit-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{cursor:pointer;padding:.25rem;border-radius:4px;transition:background-color .2s}.video-edit-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{background:var(--color-surface-container)}.video-edit-dialog[_ngcontent-%COMP%]   .dialog-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;fill:var(--color-on-surface)}.video-edit-dialog[_ngcontent-%COMP%]   .video-container[_ngcontent-%COMP%]{padding:1rem;background:#000;display:flex;justify-content:center}.video-edit-dialog[_ngcontent-%COMP%]   .video-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;max-width:100%;height:auto;max-height:50vh}.video-edit-dialog[_ngcontent-%COMP%]   .trim-controls[_ngcontent-%COMP%]{padding:1.5rem;display:flex;flex-direction:column;gap:1rem}.video-edit-dialog[_ngcontent-%COMP%]   .trim-controls[_ngcontent-%COMP%]   .time-inputs-row[_ngcontent-%COMP%]{display:flex;gap:1rem}.video-edit-dialog[_ngcontent-%COMP%]   .trim-controls[_ngcontent-%COMP%]   .time-inputs-row[_ngcontent-%COMP%]   .time-input-group[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.5rem}.video-edit-dialog[_ngcontent-%COMP%]   .trim-controls[_ngcontent-%COMP%]   .time-inputs-row[_ngcontent-%COMP%]   .time-input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:var(--color-on-surface)}.video-edit-dialog[_ngcontent-%COMP%]   .trim-controls[_ngcontent-%COMP%]   .time-inputs-row[_ngcontent-%COMP%]   .time-input-group[_ngcontent-%COMP%]   .input-with-button[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center;justify-content:center}.video-edit-dialog[_ngcontent-%COMP%]   .trim-controls[_ngcontent-%COMP%]   .time-inputs-row[_ngcontent-%COMP%]   .time-input-group[_ngcontent-%COMP%]   .input-with-button[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.5rem;border:1px solid var(--color-outline);border-radius:4px;background:var(--color-surface);color:var(--color-on-surface)}.video-edit-dialog[_ngcontent-%COMP%]   .trim-controls[_ngcontent-%COMP%]   .time-inputs-row[_ngcontent-%COMP%]   .time-input-group[_ngcontent-%COMP%]   .input-with-button[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-primary)}.video-edit-dialog[_ngcontent-%COMP%]   .trim-controls[_ngcontent-%COMP%]   .time-inputs-row[_ngcontent-%COMP%]   .time-input-group[_ngcontent-%COMP%]   .input-with-button[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]{padding:.375rem .75rem;font-size:.875rem;white-space:nowrap}.video-edit-dialog[_ngcontent-%COMP%]   .trim-controls[_ngcontent-%COMP%]   .output-input-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.video-edit-dialog[_ngcontent-%COMP%]   .trim-controls[_ngcontent-%COMP%]   .output-input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:var(--color-on-surface)}.video-edit-dialog[_ngcontent-%COMP%]   .trim-controls[_ngcontent-%COMP%]   .output-input-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding:.5rem;border:1px solid var(--color-outline);border-radius:4px;background:var(--color-surface);color:var(--color-on-surface)}.video-edit-dialog[_ngcontent-%COMP%]   .trim-controls[_ngcontent-%COMP%]   .output-input-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-primary)}.video-edit-dialog[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-top:1px solid var(--color-outline);background:var(--color-surface-container-high);display:flex;justify-content:center;align-items:center;gap:1rem}.video-edit-dialog[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:2rem;justify-content:center}.video-edit-dialog[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]   .processing-text[_ngcontent-%COMP%]{color:var(--color-on-surface-variant);font-style:italic}@media(max-width:768px){.video-edit-dialog[_ngcontent-%COMP%]{width:95vw;max-height:95vh}.video-edit-dialog[_ngcontent-%COMP%]   .video-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{max-height:40vh}.video-edit-dialog[_ngcontent-%COMP%]   .trim-controls[_ngcontent-%COMP%]   .time-inputs-row[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.video-edit-dialog[_ngcontent-%COMP%]   .trim-controls[_ngcontent-%COMP%]   .time-inputs-row[_ngcontent-%COMP%]   .time-input-group[_ngcontent-%COMP%]   .input-with-button[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.video-edit-dialog[_ngcontent-%COMP%]   .trim-controls[_ngcontent-%COMP%]   .time-inputs-row[_ngcontent-%COMP%]   .time-input-group[_ngcontent-%COMP%]   .input-with-button[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]{width:100%}.video-edit-dialog[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{flex-direction:column;width:100%;gap:1rem}.video-edit-dialog[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}"]})}}return t})();var Pt=["deleteDialog"],We=(()=>{class t{constructor(){this.filesService=P(N),this.webSocketService=P(H),this.filePath=D.required(),this.fileName=D.required(),this.mediaId=D.required(),this.closed=O(),this.deleted=O(),this.dialog=E.required("deleteDialog")}ngAfterViewInit(){this.openDialog()}openDialog(){this.dialog().nativeElement.showModal()}deleteFile(){this.filesService.deleteFileFolApiV1FilesDeleteDelete({path:this.filePath(),media_id:this.mediaId()}).subscribe(e=>{let n=e?"Deleted successfully!":"Failed to delete!";this.webSocketService.showToast(n,e?"success":"error"),this.closeDialog(),this.deleted.emit()})}closeDialog(){this.dialog().nativeElement.close(),this.closed.emit()}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=b({type:t,selectors:[["delete-dialog"]],viewQuery:function(n,a){n&1&&I(a.dialog,Pt,5),n&2&&F()},inputs:{filePath:[1,"filePath"],fileName:[1,"fileName"],mediaId:[1,"mediaId"]},outputs:{closed:"closed",deleted:"deleted"},decls:14,vars:1,consts:[["deleteDialog",""],[3,"click"],[1,"delete-dialog",3,"click"],[1,"buttons-row"],[1,"danger",3,"click"],[1,"tertiary",3,"click"]],template:function(n,a){if(n&1){let c=v();Z(0,"dialog",1,0),U("click",function(){return m(c),p(a.closeDialog())}),Z(2,"div",2),U("click",function(M){return m(c),p(M.stopPropagation())}),Z(3,"h3"),l(4,"Confirm Delete"),j(),Z(5,"code"),l(6),j(),Z(7,"p"),l(8,"Are you sure you want to delete this file?"),j(),Z(9,"div",3)(10,"button",4),U("click",function(){return m(c),p(a.deleteFile())}),l(11,"Confirm"),j(),Z(12,"button",5),U("click",function(){return m(c),p(a.closeDialog())}),l(13,"Cancel"),j()()()()}n&2&&(r(6),x(a.fileName()))},styles:[".delete-dialog[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:1.5rem;margin:1.5rem;max-width:75vw;max-height:75vh}@media(width<765px){.delete-dialog[_ngcontent-%COMP%]{max-width:90vw;margin:1rem}}.delete-dialog[_ngcontent-%COMP%]{background-color:var(--color-on-error-container);color:var(--color-on-error);padding:0 1rem 1rem;margin:0;gap:1rem}#deleteDialog[_ngcontent-%COMP%]::backdrop{background-image:linear-gradient(0deg,gray,#690005)}.buttons-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;gap:1rem;width:70%}"],changeDetection:0})}}return t})();var St=["videoDialog"],Tt=["videoDialogContent"],Ye=(()=>{class t{constructor(){this.filePath=D.required(),this.closed=O(),this.dialog=E.required("videoDialog"),this.videoDialogContent=E.required("videoDialogContent")}ngAfterViewInit(){this.openDialog()}openDialog(){this.dialog().nativeElement.showModal(),this.loadVideoContent()}loadVideoContent(){let n=`
      <style>
        video {
          width: 75vw;
          height: auto;
        }
        @media (max-width: 768px) {
          video {
            width: 100%;
          }
        }
      </style>
      <video controls controlsList="nodownload">
        <source src="${`/api/v1/files/video?file_path=${encodeURIComponent(this.filePath())}`}" type="video/mp4">
        Your browser does not support the video tag.</source>
      </video>`;this.videoDialogContent().nativeElement.innerHTML=n}closeDialog(){this.videoDialogContent().nativeElement.innerHTML="",this.dialog().nativeElement.close(),this.closed.emit()}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=b({type:t,selectors:[["play-video-dialog"]],viewQuery:function(n,a){n&1&&I(a.dialog,St,5)(a.videoDialogContent,Tt,5),n&2&&F(2)},inputs:{filePath:[1,"filePath"]},outputs:{closed:"closed"},decls:4,vars:0,consts:[["videoDialog",""],["videoDialogContent",""],[3,"click"]],template:function(n,a){if(n&1){let c=v();Z(0,"dialog",2,0),U("click",function(){return m(c),p(a.closeDialog())}),Z(2,"div",2,1),U("click",function(M){return m(c),p(M.stopPropagation())}),j()()}},encapsulation:2,changeDetection:0})}}return t})();var bt=["renameDialog"],Ke=(()=>{class t{constructor(){this.filesService=P(N),this.webSocketService=P(H),this.filePath=D.required(),this.fileName=D.required(),this.closed=O(),this.renamed=O(),this.dialog=E.required("renameDialog"),this.renamedFileName=S("")}ngAfterViewInit(){this.openDialog()}openDialog(){this.renamedFileName.set(this.fileName()),this.dialog().nativeElement.showModal()}renameFile(){let n=this.filePath().split("/").slice(0,-1).join("/")+"/"+this.renamedFileName();this.filesService.renameFileFolApiV1FilesRenamePost({old_path:this.filePath(),new_path:n}).subscribe(a=>{let c=a?"File renamed successfully!":"Failed to rename file!";this.webSocketService.showToast(c,a?"success":"error"),this.closeDialog(),this.renamed.emit()})}closeDialog(){this.dialog().nativeElement.close(),this.closed.emit()}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=b({type:t,selectors:[["rename-dialog"]],viewQuery:function(n,a){n&1&&I(a.dialog,bt,5),n&2&&F()},inputs:{filePath:[1,"filePath"],fileName:[1,"fileName"]},outputs:{closed:"closed",renamed:"renamed"},decls:11,vars:1,consts:[["renameDialog",""],[3,"click"],[1,"rename-dialog",3,"click"],["id","rename-file","type","text","placeholder","New Name",1,"rename-input",3,"ngModelChange","ngModel"],[1,"buttons-row"],[1,"primary",3,"click"],[1,"tertiary",3,"click"]],template:function(n,a){if(n&1){let c=v();i(0,"dialog",1,0),u("click",function(){return m(c),p(a.closeDialog())}),i(2,"div",2),u("click",function(M){return m(c),p(M.stopPropagation())}),i(3,"h2"),l(4,"Rename"),o(),i(5,"input",3),u("ngModelChange",function(M){return m(c),p(a.renamedFileName.set(M))}),o(),i(6,"div",4)(7,"button",5),u("click",function(){return m(c),p(a.renameFile())}),l(8,"Rename"),o(),i(9,"button",6),u("click",function(){return m(c),p(a.closeDialog())}),l(10,"Cancel"),o()()()()}n&2&&(r(5),h("ngModel",a.renamedFileName()))},dependencies:[$,te,ie,ne],styles:[".rename-dialog[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:1.5rem;margin:1.5rem;max-width:75vw;max-height:75vh}@media(width<765px){.rename-dialog[_ngcontent-%COMP%]{max-width:90vw;margin:1rem}}.rename-input[_ngcontent-%COMP%]{field-sizing:content;min-width:50vw;max-width:75vw;padding:1rem;border:1px solid var(--color-outline);border-radius:1rem;font-size:1.2rem}@media(width<765px){.rename-input[_ngcontent-%COMP%]{max-width:90vw}}.buttons-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;gap:1rem;width:70%}"],changeDetection:0})}}return t})();var yt=["dialog"];function Ot(t,d){t&1&&f(0,"app-load-indicator",2)}function Et(t,d){if(t&1&&(l(0,`
          `),i(1,"code"),l(2),o(),l(3,`
        `)),t&2){let e=d.$implicit;r(2),x(e)}}function kt(t,d){if(t&1){let e=v();i(0,"div",4),u("click",function(a){return m(e),p(a.stopPropagation())}),i(1,"h2"),l(2),o(),i(3,"div",5)(4,"pre"),l(5,"        "),z(6,Et,4,1,null,null,Se),o()(),i(8,"div",6)(9,"button",7),u("click",function(){m(e);let a=s();return p(a.closeDialog())}),l(10,"Close"),o()()()}if(t&2){let e=s();r(2),x(e.fileName()),r(4),A(e.selectedFileText())}}var Xe=(()=>{class t{constructor(){this.filesService=P(N),this.filePath=D.required(),this.fileName=D.required(),this.closed=O(),this.dialog=E.required("dialog"),this.textFileLoading=S(!0),this.selectedFileText=S([],{equal:Le})}ngAfterViewInit(){this.openDialog()}openDialog(){this.dialog().nativeElement.showModal(),this.textFileLoading.set(!0),this.selectedFileText.set([]),this.loadFileContent()}loadFileContent(){this.filesService.readFileApiV1FilesReadGet({file_path:this.filePath()}).subscribe({next:e=>this.selectedFileText.set(e.split(`
`)),complete:()=>this.textFileLoading.set(!1),error:()=>this.textFileLoading.set(!1)})}closeDialog(){this.dialog().nativeElement.close(),this.closed.emit()}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=b({type:t,selectors:[["text-dialog"]],viewQuery:function(n,a){n&1&&I(a.dialog,yt,5),n&2&&F()},inputs:{filePath:[1,"filePath"],fileName:[1,"fileName"]},outputs:{closed:"closed"},decls:4,vars:1,consts:[["dialog",""],[3,"click"],[1,"center"],[1,"text-dialog"],[1,"text-dialog",3,"click"],[1,"text-content"],[1,"buttons-row"],[1,"tertiary",3,"click"]],template:function(n,a){if(n&1){let c=v();i(0,"dialog",1,0),u("click",function(){return m(c),p(a.closeDialog())}),_(2,Ot,1,0,"app-load-indicator",2)(3,kt,11,1,"div",3),o()}n&2&&(r(2),g(a.textFileLoading()?2:3))},dependencies:[B],styles:['.center[_ngcontent-%COMP%]{margin:auto}dialog[_ngcontent-%COMP%]   app-load-indicator[_ngcontent-%COMP%]{margin:4rem}.text-dialog[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:1.5rem;margin:1.5rem;max-width:75vw;max-height:75vh}@media(width<765px){.text-dialog[_ngcontent-%COMP%]{max-width:90vw;margin:1rem}}.text-content[_ngcontent-%COMP%]{width:100%;max-width:75vw;max-height:70vh;overflow-y:auto;border:1px solid var(--color-outline);border-radius:1rem;margin:.25rem}.text-content[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{padding:1rem;white-space:pre-wrap;word-wrap:break-word;text-align:start;counter-reset:listing;line-height:0;--indent: 2rem;--lineHeight: 2}.text-content[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{counter-increment:listing;display:block;padding:0 0 0 var(--indent);text-indent:calc(-1 * var(--indent));margin:0;line-height:var(--lineHeight)}.text-content[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]:before{content:counter(listing) ". ";display:inline-block;width:var(--indent);padding-left:auto;margin-left:auto;text-align:right;color:var(--color-outline)}@media(width<765px){.text-content[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{padding:.5rem;--indentSm: 1.5rem;--lineHeightSm: 1.25}.text-content[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{padding:0 0 0 var(--indentSm);text-indent:calc(-1 * var(--indentSm));line-height:var(--lineHeightSm)}.text-content[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]:before{width:var(--indentSm)}}.buttons-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;gap:1rem;width:70%}'],changeDetection:0})}}return t})();var Vt=["videoInfoDialog"],It=(t,d)=>d.index;function Ft(t,d){t&1&&f(0,"app-load-indicator",2)}function qt(t,d){if(t&1&&(i(0,"div",8)(1,"span"),l(2,"Audio Tracks"),o(),i(3,"code"),l(4),o()()),t&2){let e=s(3);r(4),x(e.audioTracks())}}function Lt(t,d){if(t&1&&(i(0,"div",8)(1,"span"),l(2,"Subtitles"),o(),i(3,"code"),l(4),o()()),t&2){let e=s(3);r(4),x(e.subtitleTracks())}}function Nt(t,d){if(t&1&&(i(0,"div",8)(1,"span"),l(2,"Channel ID"),o(),i(3,"code"),l(4),o()()),t&2){let e=s(2);r(4),x(e.youtube_channel)}}function Qt(t,d){if(t&1&&(i(0,"div",8)(1,"span"),l(2,"Video ID"),o(),i(3,"code")(4,"a",9),l(5),o()()()),t&2){let e=s(2);r(4),h("href","https://www.youtube.com/watch?v="+e.youtube_id,L),r(),x(e.youtube_id)}}function Zt(t,d){if(t&1&&(i(0,"section")(1,"h2"),l(2,"YouTube Info"),o(),f(3,"hr"),_(4,Nt,5,1,"div",8),_(5,Qt,6,2,"div",8),o()),t&2){let e=s();r(4),g(e.youtube_channel?4:-1),r(),g(e.youtube_id?5:-1)}}function Rt(t,d){if(t&1&&(i(0,"div",8)(1,"span"),l(2,"Codec"),o(),i(3,"code"),l(4),o()()),t&2){let e=s().$implicit;r(4),x(e.codec_name)}}function Ht(t,d){if(t&1&&(i(0,"div",8)(1,"span"),l(2,"Language"),o(),i(3,"code"),l(4),o()()),t&2){let e=s().$implicit;r(4),x(e.language)}}function Bt(t,d){if(t&1&&(i(0,"div",8)(1,"span"),l(2,"Display Dimensions"),o(),i(3,"code"),l(4),o()()),t&2){let e=s().$implicit;r(4),ve("",e.coded_width,"x",e.coded_height)}}function zt(t,d){if(t&1&&(i(0,"div",8)(1,"span"),l(2,"Audio Channels"),o(),i(3,"code"),l(4),o()()),t&2){let e=s().$implicit;r(4),x(e.audio_channels)}}function At(t,d){if(t&1&&(i(0,"div",8)(1,"span"),l(2,"Audio Frequency"),o(),i(3,"code"),l(4),o()()),t&2){let e=s().$implicit;r(4),x(e.sample_rate)}}function jt(t,d){if(t&1&&(i(0,"section")(1,"h2"),l(2),k(3,"titlecase"),o(),f(4,"hr"),_(5,Rt,5,1,"div",8),_(6,Ht,5,1,"div",8),_(7,Bt,5,2,"div",8),_(8,zt,5,1,"div",8),_(9,At,5,1,"div",8),o()),t&2){let e=d.$implicit;r(2),ve("Track ",e.index,": ",V(3,7,e.codec_type)),r(3),g(e.codec_name?5:-1),r(),g(e.language?6:-1),r(),g(e.coded_height&&e.coded_width?7:-1),r(),g(e.audio_channels?8:-1),r(),g(e.sample_rate?9:-1)}}function Ut(t,d){if(t&1&&(i(0,"section",7)(1,"h2"),l(2,"File Info"),o(),f(3,"hr"),i(4,"div",8)(5,"span"),l(6,"File Name"),o(),i(7,"code"),l(8),o()(),i(9,"div",8)(10,"span"),l(11,"File Path"),o(),i(12,"code"),l(13),o()(),i(14,"div",8)(15,"span"),l(16,"File Size"),o(),i(17,"code"),l(18),k(19,"fileSize"),o()(),i(20,"div",8)(21,"span"),l(22,"Created"),o(),i(23,"code"),l(24),k(25,"date"),o()(),i(26,"div",8)(27,"span"),l(28,"Updated"),o(),i(29,"code"),l(30),k(31,"date"),o()(),i(32,"div",8)(33,"span"),l(34,"Format"),o(),i(35,"code"),l(36),o()(),i(37,"div",8)(38,"span"),l(39,"Bitrate"),o(),i(40,"code"),l(41),o()(),i(42,"div",8)(43,"span"),l(44,"Duration"),o(),i(45,"code"),l(46),o()(),_(47,qt,5,1,"div",8),_(48,Lt,5,1,"div",8),o(),_(49,Zt,6,2,"section"),z(50,jt,10,9,"section",null,It)),t&2){let e=d,n=s(2);r(8),x(e.name),r(5),x(e.file_path),r(5),x(V(19,11,e.size||0)),r(6),x(V(25,13,e.created_at)),r(6),x(V(31,15,e.updated_at)),r(6),x(e.format_name),r(5),x(e.bitrate),r(5),x(e.duration),r(),g(n.audioTracks().length>0?47:-1),r(),g(n.subtitleTracks().length>0?48:-1),r(),g(e.youtube_channel||e.youtube_id?49:-1),r(),A(e.streams)}}function $t(t,d){t&1&&(i(0,"h2"),l(1,"Video Info"),o(),f(2,"hr"),i(3,"code",10),l(4," Unable to fetch video info. "),o())}function Gt(t,d){if(t&1){let e=v();i(0,"div",3)(1,"h1"),l(2,"Video Properties"),o(),i(3,"div",4),u("click",function(a){return m(e),p(a.stopPropagation())}),_(4,Ut,52,17)(5,$t,5,0),o(),i(6,"div",5)(7,"button",6),u("click",function(){m(e);let a=s();return p(a.closeDialog())}),l(8,"Close"),o()()()}if(t&2){let e,n=s();r(4),g((e=n.videoInfo())?4:5,e)}}var Je=(()=>{class t{constructor(){this.filesService=P(N),this.filePath=D.required(),this.closed=O(),this.dialog=E.required("videoInfoDialog"),this.videoInfoLoading=S(!0),this.videoInfo=S(null),this.audioTracks=q(()=>(this.videoInfo()?.streams??[]).filter(e=>e.codec_type.includes("audio")).map(e=>`${e.language||"unk"} (${e.codec_name})`).join(", ")),this.subtitleTracks=q(()=>(this.videoInfo()?.streams??[]).filter(e=>e.codec_type.includes("subtitle")).map(e=>`${e.language||"unk"} (${e.codec_name})`).join(", "))}ngAfterViewInit(){this.openDialog()}openDialog(){this.videoInfoLoading.set(!0),this.dialog().nativeElement.showModal(),this.loadVideoInfo()}loadVideoInfo(){this.filesService.getVideoInfoApiV1FilesVideoInfoGet({file_path:this.filePath()}).subscribe({next:e=>(e&&e.youtube_channel&&e.youtube_channel.toLowerCase()==="unknownchannel"&&(e.youtube_channel=void 0),this.videoInfo.set(e)),complete:()=>this.videoInfoLoading.set(!1),error:()=>this.videoInfoLoading.set(!1)})}closeDialog(){this.dialog().nativeElement.close(),this.videoInfo.set(null),this.closed.emit()}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=b({type:t,selectors:[["video-info-dialog"]],viewQuery:function(n,a){n&1&&I(a.dialog,Vt,5),n&2&&F()},inputs:{filePath:[1,"filePath"]},outputs:{closed:"closed"},decls:4,vars:1,consts:[["videoInfoDialog",""],[3,"click"],[1,"center"],[1,"info-dialog"],[1,"info-container",3,"click"],[1,"buttons-row"],[1,"tertiary",3,"click"],["open",""],[1,"info-content"],["target","_blank","rel","noopener",3,"href"],[1,"video-info"]],template:function(n,a){if(n&1){let c=v();i(0,"dialog",1,0),u("click",function(){return m(c),p(a.closeDialog())}),_(2,Ft,1,0,"app-load-indicator",2)(3,Gt,9,1,"div",3),o()}n&2&&(r(2),g(a.videoInfoLoading()?2:3))},dependencies:[B,ee,ce,ge],styles:[".info-dialog[_ngcontent-%COMP%], .info-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin:1.5rem;max-width:75vw;align-items:center;max-height:75vh}@media(width<765px){.info-dialog[_ngcontent-%COMP%], .info-container[_ngcontent-%COMP%]{max-width:90vw}}.info-container[_ngcontent-%COMP%]{max-height:65vh;overflow-y:auto}.info-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin:1rem .5rem;gap:1rem}@media(width<765px){.info-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.25rem}}.info-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;font-weight:500;font-size:small;text-align:end;color:var(--color-on-surface-variant)}@media(width<765px){.info-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:left;width:100%;font-weight:unset;font-style:italic}}.info-content[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){flex:7;text-decoration:none;text-align:left;margin:0;padding:.25rem}.buttons-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;gap:1rem;width:70%}.video-info[_ngcontent-%COMP%]{display:block;padding:1rem;text-align:center}section[_ngcontent-%COMP%]{width:100%}section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:large;color:var(--color-on-surface-variant)}"],changeDetection:0})}}return t})();var Wt=["optionsDialog"];function Yt(t,d){if(t&1){let e=v();i(0,"div",14),u("click",function(){m(e);let a=s();return p(a.openDialog("video"))}),i(1,"span"),w(),i(2,"svg",4),f(3,"path",15),o()(),R(),i(4,"span"),l(5,"Play Video"),o()(),i(6,"div",16),u("click",function(){m(e);let a=s();return p(a.openDialog("videoInfo"))}),i(7,"span"),w(),i(8,"svg",4),f(9,"path",17),o()(),R(),i(10,"span"),l(11,"Video Info"),o()(),i(12,"div",18),u("click",function(){m(e);let a=s();return p(a.openDialog("videoEdit"))}),i(13,"span"),w(),i(14,"svg",4),f(15,"path",19),o()(),R(),i(16,"span"),l(17,"Trim Video"),o()()}}function Kt(t,d){if(t&1){let e=v();i(0,"div",21),u("click",function(){m(e);let a=s(2);return p(a.openDialog("text"))}),i(1,"span"),w(),i(2,"svg",4),f(3,"path",22),o()(),R(),i(4,"span"),l(5,"View Text"),o()()}}function Xt(t,d){if(t&1&&_(0,Kt,6,0,"div",20),t&2){let e=s();g(e.isTextFile()?0:-1)}}function Jt(t,d){if(t&1){let e=v();i(0,"text-dialog",23),u("closed",function(){m(e);let a=s();return p(a.closeChildDialog())}),o()}if(t&2){let e=s();h("filePath",e.filePath())("fileName",e.fileName())}}function ei(t,d){if(t&1){let e=v();i(0,"play-video-dialog",24),u("closed",function(){m(e);let a=s();return p(a.closeChildDialog())}),o()}if(t&2){let e=s();h("filePath",e.filePath())}}function ti(t,d){if(t&1){let e=v();i(0,"video-info-dialog",24),u("closed",function(){m(e);let a=s();return p(a.closeChildDialog())}),o()}if(t&2){let e=s();h("filePath",e.filePath())}}function ii(t,d){if(t&1){let e=v();i(0,"rename-dialog",25),u("closed",function(){m(e);let a=s();return p(a.closeChildDialog())})("renamed",function(){m(e);let a=s();return p(a.onRenameComplete())}),o()}if(t&2){let e=s();h("filePath",e.filePath())("fileName",e.fileName())}}function ni(t,d){if(t&1){let e=v();i(0,"delete-dialog",26),u("closed",function(){m(e);let a=s();return p(a.closeChildDialog())})("deleted",function(){m(e);let a=s();return p(a.onDeleteComplete())}),o()}if(t&2){let e=s();h("filePath",e.filePath())("fileName",e.fileName())("mediaId",e.mediaId())}}function oi(t,d){if(t&1){let e=v();i(0,"video-edit-dialog",27),u("closed",function(){m(e);let a=s();return p(a.closeChildDialog())})("videoTrimmed",function(){m(e);let a=s();return p(a.onVideoTrimComplete())}),o()}if(t&2){let e=s();h("filePath",e.filePath())("fileName",e.fileName())}}var et=(()=>{class t{constructor(){this.filePath=D.required(),this.fileName=D.required(),this.mediaId=D.required(),this.closed=O(),this.filesRefreshed=O(),this.dialog=E.required("optionsDialog"),this.openDialogType=S(null),this.isVideoFile=q(()=>[".mp4",".mkv",".avi",".webm"].some(e=>this.fileName().endsWith(e))),this.isTextFile=q(()=>[".txt",".srt",".log",".json",".py",".sh"].some(e=>this.fileName().endsWith(e)))}ngAfterViewInit(){this.openOptionsDialog()}openOptionsDialog(){this.dialog().nativeElement.showModal()}closeDialog(e){this.dialog().nativeElement.close(),e&&setTimeout(()=>{this.closed.emit()},500)}openDialog(e){this.closeDialog(!1),this.openDialogType.set(e)}closeChildDialog(){setTimeout(()=>{this.openDialogType.set(null),this.closed.emit()},500)}onRenameComplete(){this.openDialogType.set(null),this.filesRefreshed.emit()}onDeleteComplete(){this.openDialogType.set(null),this.filesRefreshed.emit()}onVideoTrimComplete(){this.openDialogType.set(null),this.filesRefreshed.emit()}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=b({type:t,selectors:[["app-options-dialog"]],viewQuery:function(n,a){n&1&&I(a.dialog,Wt,5),n&2&&F()},inputs:{filePath:[1,"filePath"],fileName:[1,"fileName"],mediaId:[1,"mediaId"]},outputs:{closed:"closed",filesRefreshed:"filesRefreshed"},decls:29,vars:2,consts:[["optionsDialog",""],[3,"click"],[1,"dialog-content",3,"click"],[1,"close",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960"],["d","m249-186-63-63 231-231-231-230 63-64 231 230 231-230 63 64-230 230 230 231-63 63-231-230-231 230Z"],[1,"dialog-options"],["title","Rename",1,"icon-link",3,"click"],["d","M81-5v-138h798V-5H81Zm150-327h30l371-371-13.35-15.86L604-733 231-362v30Zm-68 69v-126l486-488q10-9 23.11-14.5 13.12-5.5 26-5.5 12.89 0 25.89 5.75T748-876l28 25q12 10 17 23.99 5 13.99 5 26.52 0 13.17-5.46 26.76Q787.09-760.14 777-751L288-263H163Zm563-538-27-27 27 27Zm-94 98-13.35-15.86L604-733l28 30Z"],["title","Delete",1,"icon-link","danger-option",3,"click"],["d","M253-99q-38.21 0-65.11-26.6Q161-152.2 161-190v-552h-58v-91h228v-47h297v47h228v91h-58v552q0 37.18-27.21 64.09Q743.59-99 706-99H253Zm453-643H253v552h453v-552ZM357-268h74v-398h-74v398Zm173 0h75v-398h-75v398ZM253-742v552-552Z"],[3,"filePath","fileName"],[3,"filePath"],[3,"filePath","fileName","mediaId"],["title","Play Video",1,"icon-link",3,"click"],["d","M320-203v-560l440 280-440 280Zm60-280Zm0 171 269-171-269-171v342Z"],["title","Video Info",1,"icon-link",3,"click"],["d","M447-272h73v-248h-73v248Zm32.89-330Q496-602 507-612.59q11-10.58 11-26.23 0-17.63-10.87-28.4Q496.26-678 480.19-678q-17.19 0-27.69 10.6T442-639.68q0 16.28 10.89 26.98 10.9 10.7 27 10.7Zm-.08 538q-85.92 0-161.52-33.02-75.61-33.02-131.93-89.34-56.32-56.32-89.34-132.13T64-480.5q0-86.09 33.08-161.81t89.68-132.31q56.61-56.59 132.06-88.99Q394.27-896 480.06-896q86.15 0 162.17 32.39 76.02 32.4 132.4 89Q831-718 863.5-641.96 896-565.92 896-479.72q0 86.19-32.39 161.29-32.4 75.11-88.99 131.51Q718.03-130.53 642-97.26 565.98-64 479.81-64Zm.69-73q142.01 0 242.26-100.74Q823-338.49 823-480.5T722.94-722.76Q622.89-823 480-823q-141.51 0-242.26 100.06Q137-622.89 137-480q0 141.51 100.74 242.26Q338.49-137 480.5-137Zm-.5-343Z"],["title","Trim Video",1,"icon-link",3,"click"],["d","M780-105 480-405 372-297q10 18 12.5 33.5T387-228q0 68.87-45.59 114.44Q295.82-68 226.91-68T112.5-113.59Q67-159.18 67-228.09t45.56-114.41Q158.13-388 227-388q18 0 35.5 4.5T299-369l108-107-110-110q-17 8-34.5 10.5T227-573q-68.87 0-114.44-45.59Q67-664.18 67-733.09t45.59-114.41q45.59-45.5 114.5-45.5t114.41 45.56Q387-801.88 387-733q0 20-2 36.5T375-664l519 520v39H780ZM605-524l-76-76 251-252h114v38L605-524ZM226.83-646q36.69 0 61.93-25.07Q314-696.14 314-732.83q0-36.7-25.07-61.93Q263.86-820 227.17-820t-61.93 25.07Q140-769.86 140-733.17q0 36.7 25.07 61.93Q190.14-646 226.83-646Zm255.03 195q10.74 0 18.44-7.56 7.7-7.55 7.7-18.3 0-10.74-7.56-18.44-7.55-7.7-18.3-7.7-10.74 0-18.44 7.56-7.7 7.55-7.7 18.3 0 10.74 7.56 18.44 7.55 7.7 18.3 7.7ZM226.83-141q36.69 0 61.93-25.07Q314-191.14 314-227.83t-25.07-61.93Q263.86-315 227.17-315t-61.93 25.07Q140-264.86 140-228.17t25.07 61.93Q190.14-141 226.83-141Z"],["title","View Text",1,"icon-link"],["title","View Text",1,"icon-link",3,"click"],["d","M321-250h318v-69H321v69Zm0-169h319v-68H321v68ZM229-59q-35.78 0-63.39-26.91Q138-112.83 138-150v-660q0-37.59 27.61-64.79Q193.22-902 229-902h364l230 228v524q0 37.17-27.91 64.09Q767.19-59 731-59H229Zm316-569v-182H229v660h502v-478H545ZM229-810v182-182 660-660Z"],[3,"closed","filePath","fileName"],[3,"closed","filePath"],[3,"closed","renamed","filePath","fileName"],[3,"closed","deleted","filePath","fileName","mediaId"],[3,"closed","videoTrimmed","filePath","fileName"]],template:function(n,a){if(n&1){let c=v();i(0,"dialog",1,0),u("click",function(){return m(c),p(a.closeDialog(!0))}),i(2,"div",2),u("click",function(M){return m(c),p(M.stopPropagation())}),i(3,"h2"),l(4,"Options"),o(),i(5,"i",3),u("click",function(){return m(c),p(a.closeDialog(!0))}),w(),i(6,"svg",4),f(7,"path",5),o()(),R(),i(8,"div",6),_(9,Yt,18,0)(10,Xt,1,1),i(11,"div",7),u("click",function(){return m(c),p(a.openDialog("rename"))}),i(12,"span"),w(),i(13,"svg",4),f(14,"path",8),o()(),R(),i(15,"span"),l(16,"Rename"),o()(),i(17,"div",9),u("click",function(){return m(c),p(a.openDialog("delete"))}),i(18,"span"),w(),i(19,"svg",4),f(20,"path",10),o()(),R(),i(21,"span"),l(22,"Delete"),o()()()()(),_(23,Jt,1,2,"text-dialog",11)(24,ei,1,1,"play-video-dialog",12)(25,ti,1,1,"video-info-dialog",12)(26,ii,1,2,"rename-dialog",11)(27,ni,1,3,"delete-dialog",13)(28,oi,1,2,"video-edit-dialog",11)}if(n&2){let c;r(9),g(a.isVideoFile()?9:10),r(14),g((c=a.openDialogType())==="text"?23:c==="video"?24:c==="videoInfo"?25:c==="rename"?26:c==="delete"?27:c==="videoEdit"?28:-1)}},dependencies:[Xe,Ye,Je,Ke,We,Ge],styles:[".dialog-content[_ngcontent-%COMP%]{margin:1rem;position:relative}.dialog-header[_ngcontent-%COMP%]{position:relative}.dialog-content[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;top:0;right:0;cursor:pointer;border-radius:50%}.dialog-content[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:2rem;width:2rem;fill:var(--color-on-surface);padding:0}.dialog-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1rem}.icon-link[_ngcontent-%COMP%]{display:flex;align-items:center;text-decoration:none;transition:all .4s;cursor:pointer;padding:1rem 3rem 1rem 0;border-bottom:1px solid var(--color-outline);font-size:1.25rem}.icon-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:1.5rem}.icon-link[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;fill:var(--color-on-surface);padding:0;margin:0 .5rem}.danger-option[_ngcontent-%COMP%]{color:var(--color-error)}.danger-option[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:var(--color-error)}"],changeDetection:0})}}return t})();var tt=t=>({folderUntyped:t});function ai(t,d){if(t&1){let e=v();i(0,"i",7),u("click",function(){m(e);let a=s();return p(a.filesResource.reload())}),w(),i(1,"svg",8),f(2,"path",9),o()()}if(t&2){let e=s();ae("loading",e.filesResource.isLoading())}}function li(t,d){if(t&1){let e=v();i(0,"small",10),u("click",function(){m(e);let a=s();return p(a.filesOpened.set(!0))}),l(1,"Click to open files"),o()}}function ri(t,d){t&1&&f(0,"app-load-indicator",11)}function di(t,d){if(t&1&&(i(0,"p",13),l(1),o()),t&2){let e=s(3);r(),y("Error: ",e.filesError())}}function si(t,d){t&1&&Ce(0)}function ci(t,d){if(t&1&&(i(0,"div",14),f(1,"div"),i(2,"div"),l(3,"Name"),o(),i(4,"div"),l(5,"Size"),o(),i(6,"div"),l(7,"Modified"),o()(),se(8,si,1,0,"ng-container",15)),t&2){let e=s(3),n=he(8);r(8),h("ngTemplateOutlet",n)("ngTemplateOutletContext",de(2,tt,e.filesResource.value()))}}function mi(t,d){if(t&1&&(i(0,"div",12),_(1,di,2,1,"p",13)(2,ci,9,4),o()),t&2){let e=s(2);r(),g(e.filesResource.error()?1:2)}}function pi(t,d){if(t&1&&(f(0,"hr"),_(1,ri,1,0,"app-load-indicator",11)(2,mi,3,1,"div",12)),t&2){let e=s();r(),g(e.filesResource.isLoading()?1:2)}}function _i(t,d){t&1&&(w(),i(0,"svg",19),f(1,"path",24),o())}function gi(t,d){t&1&&(w(),i(0,"svg",19),f(1,"path",25),o())}function ui(t,d){if(t&1&&_(0,_i,2,0,":svg:svg",19)(1,gi,2,0,":svg:svg",19),t&2){s();let e=T(0);g(e.isExpanded?0:1)}}function fi(t,d){t&1&&(w(),i(0,"svg",19),f(1,"path",26),o())}function Ci(t,d){t&1&&Ce(0)}function hi(t,d){if(t&1&&se(0,Ci,1,0,"ng-container",15),t&2){let e=d.$implicit;s(4);let n=he(8);h("ngTemplateOutlet",n)("ngTemplateOutletContext",de(2,tt,e))}}function vi(t,d){if(t&1&&z(0,hi,1,4,"ng-container",null,Te),t&2){s(2);let e=T(0);A(e.files)}}function xi(t,d){if(t&1&&(i(0,"div",23),_(1,vi,2,0),o()),t&2){s();let e=T(0);r(),g(e.isExpanded?1:-1)}}function wi(t,d){if(t&1){let e=v();le(0),i(1,"div",16)(2,"div",17),u("click",function(){m(e);let a=T(0),c=s();return p(c.openFolderOrOptions(a))}),i(3,"div",18),_(4,ui,2,1)(5,fi,2,0,":svg:svg",19),o(),i(6,"div",20),l(7),o(),i(8,"div",21),l(9),o(),i(10,"div",22),l(11),k(12,"date"),o()(),_(13,xi,2,1,"div",23),o()}if(t&2){let e=d.folderUntyped,n=J(s().asFolderInfo(e));r(2),ae("parent",n.type=="folder"),r(2),g(n.type==="folder"?4:5),r(3),x(n.name),r(2),x(n.size),r(2),x(V(12,8,n.modified)),r(2),g(n.type==="folder"?13:-1)}}function Mi(t,d){if(t&1){let e=v();i(0,"app-options-dialog",27),u("closed",function(){m(e);let a=s();return p(a.onOptionsDialogClosed())})("filesRefreshed",function(){m(e);let a=s();return p(a.onFilesRefreshed())}),o()}if(t&2){let e=s();h("filePath",e.selectedFilePath())("fileName",e.selectedFileName())("mediaId",e.mediaId())}}var it=(()=>{class t{constructor(){this.filesService=P(N),this.mediaService=P(_e),this.webSocketService=P(H),this.mediaId=D.required(),this.filesOpened=S(!1),this.optionsDialogOpen=S(!1),this.mediaIDEffect=oe(()=>{this.mediaId(),this.filesOpened.set(!1)}),this.selectedFilePath=S(""),this.selectedFileName=S(""),this.filesResource=ke({params:()=>({mediaId:this.mediaId(),filesOpened:this.filesOpened()}),loader:a=>Me(this,[a],function*({params:{mediaId:e,filesOpened:n}}){if(n)return yield this.mediaService.fetchMediaFiles(e)})}),this.filesError=q(()=>{let e=this.filesResource.error();return e?e.cause?.error.detail||"Error fetching media files.":""})}ngOnInit(){this.webSocketService.toastMessage.pipe(Qe()).subscribe(e=>{let n=e.message.toLowerCase(),a=this.mediaId().toString(),c=this.mediaService.selectedMedia()?.title?.toLowerCase()||"";["media","trailer",a,c].some(M=>M&&n.includes(M))&&this.filesResource.reload()})}asFolderInfo(e){return e}openFolderOrOptions(e){e.type==="folder"?e.isExpanded=!e.isExpanded:(this.selectedFilePath.set(e.path),this.selectedFileName.set(e.name),this.openOptionsDialog())}openOptionsDialog(){this.optionsDialogOpen.set(!0)}onOptionsDialogClosed(){this.optionsDialogOpen.set(!1)}onFilesRefreshed(){this.filesResource.reload()}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=b({type:t,selectors:[["media-files"]],inputs:{mediaId:[1,"mediaId"]},decls:10,vars:3,consts:[["folFileTemplate",""],[1,"media-files-container"],[1,"title-block"],[1,"files-title"],["title","Refresh",1,"icononly-button",3,"loading"],[1,"files-open"],[3,"filePath","fileName","mediaId"],["title","Refresh",1,"icononly-button",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960",1,"refresh-icon"],["d","M343-107q-120-42-194.5-146.5T74-490q0-29 4-57.5T91-604l-57 33-37-62 185-107 106 184-63 36-54-92q-13 30-18.5 60.5T147-490q0 113 65.5 200T381-171l-38 64Zm291-516v-73h107q-47-60-115.5-93.5T480-823q-66 0-123.5 24T255-734l-38-65q54-45 121-71t142-26q85 0 160.5 33T774-769v-67h73v213H634ZM598-1 413-107l107-184 62 37-54 94q123-17 204.5-110.5T814-489q0-19-2.5-37.5T805-563h74q4 18 6 36.5t2 36.5q0 142-87 251.5T578-96l56 33-36 62Z"],[1,"files-open",3,"click"],[1,"center"],[1,"media-files"],[1,"text-sm","text-center"],[1,"files-header","sm-none","text-sm"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"files-accordion"],[1,"files-header",3,"click"],[1,"files-icon"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960"],[1,"files-name"],[1,"files-size"],[1,"files-modified"],[1,"child"],["d","M146.67-160q-26.34 0-46.5-20.17Q80-200.33 80-226.67v-506.66q0-26.34 20.17-46.5Q120.33-800 146.67-800H414l66.67 66.67h332.66q26.34 0 46.5 20.16Q880-693 880-666.67H146.67v440l100-373.33H940L834.33-209.67q-6.66 24.67-24.5 37.17Q792-160 766.67-160h-620Z"],["d","M146.67-160q-27 0-46.84-20.17Q80-200.33 80-226.67v-506.66q0-26.34 19.83-46.5Q119.67-800 146.67-800H414l66.67 66.67h332.66q26.34 0 46.5 20.16Q880-693 880-666.67v440q0 26.34-20.17 46.5Q839.67-160 813.33-160H146.67Z"],["d","M319.33-246.67h321.34v-66.66H319.33v66.66Zm0-166.66h321.34V-480H319.33v66.67ZM226.67-80q-27 0-46.84-19.83Q160-119.67 160-146.67v-666.66q0-27 19.83-46.84Q199.67-880 226.67-880H574l226 226v507.33q0 27-19.83 46.84Q760.33-80 733.33-80H226.67Zm314-542.67h192.66L540.67-813.33v190.66Z"],[3,"closed","filesRefreshed","filePath","fileName","mediaId"]],template:function(n,a){n&1&&(i(0,"div",1)(1,"div",2)(2,"h3",3),l(3,"Files"),o(),_(4,ai,3,2,"i",4)(5,li,2,0,"small",5),o(),_(6,pi,3,1),o(),se(7,wi,14,10,"ng-template",null,0,Ee),_(9,Mi,1,3,"app-options-dialog",6)),n&2&&(r(4),g(a.filesOpened()?4:5),r(2),g(a.filesOpened()?6:-1),r(3),g(a.optionsDialogOpen()?9:-1))},dependencies:[$,B,Ve,et,ee],styles:['[_nghost-%COMP%]{display:contents}.center[_ngcontent-%COMP%]{margin:auto}.text-center[_ngcontent-%COMP%]{text-align:center}.title-block[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;gap:.5rem}.files-title[_ngcontent-%COMP%]{margin:0;margin-block:0}.files-open[_ngcontent-%COMP%]{flex:1;cursor:pointer;padding:.75rem}.icononly-button[_ngcontent-%COMP%]{height:1.5rem;width:1.5rem;padding:0}.refresh-icon[_ngcontent-%COMP%]{cursor:pointer;fill:var(--color-on-surface)}.loading[_ngcontent-%COMP%]{cursor:progress;animation:spin-animation 2s linear infinite}.media-files-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin:1rem}.media-files-container[_ngcontent-%COMP%]   .media-files[_ngcontent-%COMP%]{width:100%;display:block;border:1px solid var(--color-outline);border-radius:4px;background-color:var(--color-surface-container-high);color:var(--color-on-surface-variant);overflow-y:auto}.files-header[_ngcontent-%COMP%]{grid-row:1;display:grid;grid-template-columns:auto 6fr 1fr 2fr;gap:.5rem;align-items:center;text-align:center;padding:1rem;border:none;outline:none;transition:.4s;border-top:1px solid var(--color-outline);position:relative;font-size:.75rem}@media(max-width:765px){.files-header[_ngcontent-%COMP%]{grid-template-columns:auto auto auto;grid-template-rows:1fr auto}}.files-header[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;top:50%;left:-1rem;width:1rem;height:1px;background-color:var(--color-outline)}.files-accordion[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-rows:1fr auto;border-left:1px solid var(--color-outline);position:relative}.files-accordion[_ngcontent-%COMP%]   .parent[_ngcontent-%COMP%]{cursor:pointer}.files-accordion[_ngcontent-%COMP%]   .child[_ngcontent-%COMP%]{grid-row:2;padding:0 0 0 1rem;position:relative;cursor:pointer}.child[_ngcontent-%COMP%]   .files-accordion[_ngcontent-%COMP%]:last-child{border-bottom:1px solid var(--color-outline);margin-bottom:1rem}.files-header[_ngcontent-%COMP%]   .files-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}@media(max-width:765px){.files-header[_ngcontent-%COMP%]   .files-icon[_ngcontent-%COMP%]{grid-row:1/span 2;grid-column:1;justify-self:center}}.files-header[_ngcontent-%COMP%]   .files-name[_ngcontent-%COMP%]{font-size:1rem;text-align:left;display:flex;align-items:center;gap:.25rem}@media(max-width:765px){.files-header[_ngcontent-%COMP%]   .files-name[_ngcontent-%COMP%]{grid-row:1;grid-column:2/span 2;justify-self:start}}.files-header[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;fill:var(--color-on-surface)}@media(max-width:765px){.files-header[_ngcontent-%COMP%]   .files-size[_ngcontent-%COMP%]{grid-row:2;grid-column:2;justify-self:start;margin-left:.25rem}.files-header[_ngcontent-%COMP%]   .files-modified[_ngcontent-%COMP%]{grid-row:2;grid-column:3;justify-self:end}}'],changeDetection:0})}}return t})();var Di=["deleteDialog"],nt=(t,d)=>[t,d];function Pi(t,d){t&1&&f(0,"app-load-indicator",2)}function Si(t,d){if(t&1&&f(0,"div",41),t&2){s(2);let e=T(0);G("background-image: url("+e.fanart_path+");")}}function Ti(t,d){if(t&1&&(i(0,"div",13),w(),i(1,"svg",42),f(2,"path",43),o()()),t&2){s(2);let e=T(0);r(),G("view-transition-name: media-"+e.id+"-logo")}}function bi(t,d){t&1&&(i(0,"div",44),w(),i(1,"svg",46),f(2,"path",47),o()())}function yi(t,d){if(t&1&&(i(0,"span"),w(),i(1,"svg",49),f(2,"path",50),o()()),t&2){s(4);let e=T(0);r(),G("view-transition-name: media-"+e.id+"-logo")}}function Oi(t,d){if(t&1&&(i(0,"span"),w(),i(1,"svg",51),f(2,"path",52),o()()),t&2){s(4);let e=T(0);r(),G("view-transition-name: media-"+e.id+"-logo")}}function Ei(t,d){if(t&1){let e=v();i(0,"div",48),u("click",function(){m(e);let a=s(3);return p(a.monitorMedia())}),_(1,yi,3,2,"span")(2,Oi,3,2,"span"),o()}if(t&2){s(3);let e=T(0);h("title",e.monitor?"Monitored, click to change":"Not Monitored, click to change"),r(),g(e.monitor?1:2)}}function ki(t,d){if(t&1&&_(0,bi,3,0,"div",44)(1,Ei,3,2,"div",45),t&2){let e=s(2);g(e.isLoadingMonitor()?0:1)}}function Vi(t,d){if(t&1&&(i(0,"div",16),w(),i(1,"svg",53),f(2,"path",54),o()()),t&2){s();let e=T(10),n=s();h("routerLink",we(2,nt,"/"+n.RouteMedia,e.id))("title",e.title)}}function Ii(t,d){if(t&1&&(i(0,"div",17),w(),i(1,"svg",53),f(2,"path",55),o()()),t&2){s();let e=T(11),n=s();h("routerLink",we(2,nt,"/"+n.RouteMedia,e.id))("title",e.title)}}function Fi(t,d){if(t&1&&(i(0,"a",19),f(1,"img",56),o()),t&2){s(2);let e=T(0);h("href",re("https://www.imdb.com/title/",e.imdb_id,"/"),L)}}function qi(t,d){if(t&1&&(i(0,"a",57),f(1,"img",59),o()),t&2){s(3);let e=T(0);h("href",re("https://www.themoviedb.org/movie/",e.txdb_id),L)}}function Li(t,d){if(t&1&&(i(0,"a",58),f(1,"img",60),o()),t&2){s(3);let e=T(0);h("href",re("https://www.thetvdb.com/?tab=series&id=",e.txdb_id),L)}}function Ni(t,d){if(t&1&&_(0,qi,2,2,"a",57)(1,Li,2,2,"a",58),t&2){s(2);let e=T(0);g(e.is_movie?0:1)}}function Qi(t,d){if(t&1&&(i(0,"a",61),f(1,"img",63),o()),t&2){let e=s(3);h("href",e.arr_url(),L)}}function Zi(t,d){if(t&1&&(i(0,"a",62),f(1,"img",64),o()),t&2){let e=s(3);h("href",e.arr_url(),L)}}function Ri(t,d){if(t&1&&_(0,Qi,2,1,"a",61)(1,Zi,2,1,"a",62),t&2){s(2);let e=T(0);g(e.is_movie?0:1)}}function Hi(t,d){if(t&1&&(i(0,"p"),l(1),o()),t&2){s(2);let e=T(0);r(),y("Seasons: ",e.season_count)}}function Bi(t,d){if(t&1&&(i(0,"p"),l(1),o()),t&2){s(2);let e=T(0);r(),y("Downloaded: ",e.downloaded_at.toLocaleString())}}function zi(t,d){t&1&&(i(0,"p"),l(1,"Downloaded: Never"),o())}function Ai(t,d){if(t&1){let e=v();i(0,"span",65),u("click",function(){m(e);let a=s(2);return p(a.openProfileSelectDialog(!0))}),w(),i(1,"svg",53),f(2,"path",66),o()()}}function ji(t,d){t&1&&(i(0,"span",35),w(),i(1,"svg",67)(2,"circle",68),f(3,"animate",69),o(),i(4,"circle",70),f(5,"animate",71),o(),i(6,"circle",72),f(7,"animate",73),o()()())}function Ui(t,d){if(t&1){let e=v();i(0,"button",74),u("click",function(){m(e);let a=s(2);return p(a.saveYtId())}),w(),i(1,"svg",53),f(2,"path",75),o()()}}function $i(t,d){t&1&&(i(0,"p",37),l(1,"Click Download to download trailer from updated link!"),o())}function Gi(t,d){if(t&1){let e=v();i(0,"button",76),u("click",function(){m(e);let a=s(2);return p(a.openTrailer())}),l(1,"Watch"),o()}}function Wi(t,d){t&1&&(i(0,"span",78),w(),i(1,"svg",46),f(2,"path",47),o()())}function Yi(t,d){if(t&1){let e=v();i(0,"button",77),u("click",function(){m(e);let a=s(2);return p(a.openProfileSelectDialog(!1))}),i(1,"span"),l(2,"Download "),o(),_(3,Wi,3,0,"span",78),o()}if(t&2){let e=s(2),n=T(0);h("disabled",e.isLoadingDownload()||n.status=="downloading"),r(3),g(e.isLoadingDownload()||n.status=="downloading"?3:-1)}}function Ki(t,d){if(t&1){let e=v();i(0,"button",79),u("click",function(){m(e);let a=s(2);return p(a.showDeleteDialog())}),l(1,"Delete"),o()}}function Xi(t,d){if(t&1){let e=v();i(0,"div",3),_(1,Si,1,2,"div",8),i(2,"div",9),f(3,"img",10),o(),i(4,"div",11)(5,"div",12),_(6,Ti,3,2,"div",13)(7,ki,2,1),i(8,"span",14),l(9),o(),le(10)(11),i(12,"div",15),_(13,Vi,3,5,"div",16),_(14,Ii,3,5,"div",17),o()(),i(15,"div",12)(16,"span",18),l(17),o(),i(18,"span",18),k(19,"durationConvert"),l(20),k(21,"durationConvert"),o()(),i(22,"div",12),_(23,Fi,2,2,"a",19),_(24,Ni,2,1),_(25,Ri,2,1),o(),i(26,"div",20)(27,"span")(28,"div",21)(29,"span",22),l(30,"Path"),o(),i(31,"span",23)(32,"code"),l(33),o()()()(),i(34,"span")(35,"div",24)(36,"span",22),l(37,"Status"),o(),i(38,"span",25),l(39),k(40,"titlecase"),i(41,"span",26),_(42,Hi,2,1,"p"),i(43,"p"),l(44),o(),i(45,"p"),l(46),o(),i(47,"p"),l(48),o(),i(49,"p"),l(50),o(),_(51,Bi,2,1,"p")(52,zi,2,0,"p"),o()()()()(),i(53,"div",12)(54,"div",27)(55,"span",22),l(56,"Overview"),o(),i(57,"span",28),l(58),o()()(),i(59,"div",12)(60,"div",24)(61,"span",22),l(62,"Trailer"),o(),i(63,"div",29)(64,"div",30)(65,"span",31),l(66,"https://www.youtube.com/watch?v="),o(),i(67,"span",32),l(68,"Youtube ID/URL:"),o(),i(69,"input",33),X("ngModelChange",function(a){m(e);let c=s();return K(c.trailer_url,a)||(c.trailer_url=a),p(a)}),o()(),_(70,Ai,3,0,"span",34),_(71,ji,8,0,"span",35),_(72,Ui,3,0,"button",36),o(),_(73,$i,2,0,"p",37),o()(),i(74,"div",12),_(75,Gi,2,0,"button",38),_(76,Yi,4,2,"button",39),_(77,Ki,2,0,"button",40),o()()()}if(t&2){let e=s(),n=T(0);r(),g(n.fanart_path?1:-1),r(),ae("sm-none",!n.poster_path),h("title",re("",n.title," Poster")),r(),G("view-transition-name: media-"+n.id+"-image"),h("src",xe(n.poster_path||"assets/poster-lg.png"),L)("alt",xe(n.title)),r(3),g(n.trailer_exists?6:7),r(2),G("view-transition-name: media-"+n.id+"-title"),h("textToCopy",n.title)("title",n.title),r(),y(" ",n.title," "),r();let a=J(e.previousMedia());r();let c=J(e.nextMedia());r(2),g(a?13:-1),r(),g(c?14:-1),r(2),h("title",n.year),r(),x(n.year),r(),h("title",V(19,47,n.runtime)),r(2),x(V(21,49,n.runtime)),r(3),g(n.imdb_id?23:-1),r(),g(n.txdb_id?24:-1),r(),g(e.arr_url()?25:-1),r(3),h("title",n.folder_path),r(3),h("textToCopy",n.folder_path),r(2),x(n.folder_path),r(6),y("",V(40,51,n.status)," "),r(3),g(n.is_movie?-1:42),r(2),y("Monitored: ",n.monitor),r(2),y("Downloaded: ",n.trailer_exists),r(2),y("Added: ",n.added_at.toLocaleString()),r(2),y("Updated: ",n.updated_at.toLocaleString()),r(),g(n.downloaded_at&&n.downloaded_at.toString()!="Invalid Date"?51:52),r(7),x(n.overview),r(11),Y("ngModel",e.trailer_url),r(),g(n.youtube_trailer_id==""&&e.trailer_url==""&&!e.isLoadingDownload()?70:-1),r(),g(e.isLoadingDownload()?71:-1),r(),g(e.trailer_url!=n.youtube_trailer_id&&!e.isLoadingDownload()?72:-1),r(),g(e.trailer_url!=n.youtube_trailer_id?73:-1),r(2),g(n.youtube_trailer_id?75:-1),r(),g(!n.trailer_exists||n.youtube_trailer_id!=e.trailer_url?76:-1),r(),g(n.trailer_exists?77:-1)}}function Ji(t,d){if(t&1&&(i(0,"div",1),f(1,"media-downloads",80),o(),i(2,"div",1),f(3,"media-files",81),o()),t&2){let e=s(),n=T(0);r(),h("downloads",n.downloads),r(2),h("mediaId",e.mediaId())}}var ot=(()=>{class t{constructor(){this.mediaService=P(_e),this.connectionService=P(ze),this.webSocketService=P(H),this.viewContainerRef=P(Pe),this.router=P(Ie),this.RouteMedia=pe,this.mediaId=D(0,{transform:Number}),this.selectedMedia=this.mediaService.selectedMedia,this.previousMedia=this.mediaService.previousMedia,this.nextMedia=this.mediaService.nextMedia,this.isLoading=q(()=>this.mediaService.mediaResource.isLoading()),this.isLoadingMonitor=S(!1),this.isLoadingDownload=S(!1),this.trailer_url="",this.arr_url=q(()=>{let e=this.selectedMedia();if(!e)return"";let a=this.connectionService.connectionsResource.value().find(C=>C.id==e.connection_id);if(!a)return"";let c=a.external_url&&a.external_url.length>0?a.external_url:a.url;return c.endsWith("/")&&(c=c.slice(0,-1)),a.arr_type.toLowerCase()=="radarr"?c+"/movie/"+e.txdb_id:c+"/series/"+e.title_slug}),this.mediaIDChangeEffect=oe(()=>{this.mediaService.selectedMediaID.set(this.mediaId())}),this.mediaDataChangeEffect=oe(()=>{let e=this.selectedMedia();e&&(this.trailer_url=e.youtube_trailer_id||"",e.status!=="downloading"&&this.isLoadingDownload.set(!1))})}handleKeyboardEvent(e){let n=document.activeElement,a=n.tagName==="INPUT"||n.tagName==="TEXTAREA"||n.isContentEditable;if(!(e.ctrlKey||e.altKey||e.metaKey)&&!a&&e.type==="keydown"&&this.mediaId())if(e.key==="ArrowRight"||e.key.toLowerCase()==="n"){let c=this.nextMedia();c&&this.router.navigate([pe,c.id])}else if(e.key==="ArrowLeft"||e.key.toLowerCase()==="p"){let c=this.previousMedia();c&&this.router.navigate([pe,c.id])}else(e.key==="Delete"||e.key==="Backspace")&&this.showDeleteDialog()}openProfileSelectDialog(e){let n=this.viewContainerRef.createComponent(He);n.instance.onSubmit.subscribe(a=>{e?this.searchTrailer(a):this.downloadTrailer(a),setTimeout(()=>{n.destroy()},3e3)}),n.instance.onClosed.subscribe(()=>{setTimeout(()=>{n.destroy()},3e3)})}downloadTrailer(e){let n=this.selectedMedia()?.youtube_trailer_id?.toLowerCase()||"",a=this.trailer_url.toLowerCase(),c=this.selectedMedia()?.trailer_exists||!1;n&&a.includes(n)&&c||(this.isLoadingDownload.set(!0),this.mediaService.downloadMediaTrailer(this.mediaId(),e,this.trailer_url).subscribe(C=>{console.log(C)}))}monitorMedia(){this.isLoadingMonitor.set(!0);let e=!this.selectedMedia()?.monitor;this.mediaService.monitorMedia(this.mediaId(),e).subscribe(n=>{console.log(n),this.selectedMedia().monitor=e,this.isLoadingMonitor.set(!1)})}searchTrailer(e){this.webSocketService.showToast("Searching for trailer..."),this.isLoadingDownload.set(!0),this.mediaService.searchMediaTrailer(this.mediaId(),e).pipe(fe(n=>(console.error("Error searching trailer:",n.error.detail),this.webSocketService.showToast(n.error.detail,"Error"),this.isLoadingDownload.set(!1),ue("")))).subscribe(()=>{this.isLoadingDownload.set(!1)})}saveYtId(){this.webSocketService.showToast("Saving youtube id..."),this.isLoadingDownload.set(!0),this.mediaService.saveMediaTrailer(this.mediaId(),this.trailer_url).pipe(fe(e=>(console.error("Error searching trailer:",e.error.detail),this.webSocketService.showToast(e.error.detail,"Error"),this.isLoadingDownload.set(!1),ue("")))).subscribe(()=>{this.isLoadingDownload.set(!1)})}openTrailer(){this.selectedMedia()?.youtube_trailer_id&&window.open(`https://www.youtube.com/watch?v=${this.selectedMedia()?.youtube_trailer_id}`,"_blank")}showDeleteDialog(){this.deleteDialog.nativeElement.showModal()}closeDeleteDialog(){this.deleteDialog.nativeElement.close()}onConfirmDelete(){this.closeDeleteDialog(),this.mediaService.deleteMediaTrailer(this.mediaId()).subscribe(e=>{console.log(e),this.selectedMedia().trailer_exists=!1})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=b({type:t,selectors:[["app-media-details"]],viewQuery:function(n,a){if(n&1&&be(Di,5),n&2){let c;ye(c=Oe())&&(a.deleteDialog=c.first)}},hostBindings:function(n,a){n&1&&u("keydown",function(C){return a.handleKeyboardEvent(C)},De)},inputs:{mediaId:[1,"mediaId"]},decls:18,vars:4,consts:[["deleteDialog",""],[1,"media-details-container"],[1,"center"],[1,"media-details-card"],[3,"click"],[1,"dialog-content",3,"click"],["tabindex","2",1,"danger",3,"click"],["tabindex","1",1,"secondary",3,"click"],[1,"media-fanart-overlay",3,"style"],[1,"media-poster",3,"title"],[3,"src","alt"],[1,"media-details-col"],[1,"media-details-row"],["title","Trailer Downloaded",1,"icon-link"],["appCopyToClipboard","",1,"text-lg","title-text",3,"textToCopy","title"],[1,"nav-icons"],[1,"icon-link","left",3,"routerLink","title"],[1,"icon-link","right",3,"routerLink","title"],[1,"text-md",3,"title"],["target","_blank","title","IMDB Link",3,"href"],[1,"media-details-row","extras"],[1,"labeled-text",3,"title"],[1,"label"],["appCopyToClipboard","",1,"text-sm",3,"textToCopy"],[1,"labeled-text"],[1,"text-sm","tooltip"],[1,"tooltiptext"],["title","Overview",1,"labeled-text"],[1,"text-sm"],[1,"input-row"],[1,"labeled-input"],[1,"text-md","sm-none"],[1,"text-md","sm-show"],["id","youtube_trailer_id","type","text","placeholder","Youtube Video ID / URL",3,"ngModelChange","ngModel"],["title","Search Trailer",1,"search-button","icon-link"],["title","Searching for Trailer",1,"loading-search","icon-link"],["id","update_trailer_search_query","tabindex","24",1,"primary","icononly-button","save-button","success"],[1,"text-sm","info-text"],["title","Watch Trailer on Youtube",1,"primary"],["title","Download Trailer",1,"primary",3,"disabled"],["title","Delete Trailer",1,"danger"],[1,"media-fanart-overlay"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-label","Trailer Exists",1,"downloaded-icon","success"],["d","M480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q65 0 123 19t107 53l-58 59q-38-24-81-37.5T480-800q-133 0-226.5 93.5T160-480q0 133 93.5 226.5T480-160q133 0 226.5-93.5T800-480q0-18-2-36t-6-35l65-65q11 32 17 66t6 70q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm-56-216L254-466l56-56 114 114 400-401 56 56-456 457Z"],["title","Updating Monitor Status",1,"icon-link"],[1,"icon-link",3,"title"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960",1,"loading"],["d","M343-107q-120-42-194.5-146.5T74-490q0-29 4-57.5T91-604l-57 33-37-62 185-107 106 184-63 36-54-92q-13 30-18.5 60.5T147-490q0 113 65.5 200T381-171l-38 64Zm291-516v-73h107q-47-60-115.5-93.5T480-823q-66 0-123.5 24T255-734l-38-65q54-45 121-71t142-26q85 0 160.5 33T774-769v-67h73v213H634ZM598-1 413-107l107-184 62 37-54 94q123-17 204.5-110.5T814-489q0-19-2.5-37.5T805-563h74q4 18 6 36.5t2 36.5q0 142-87 251.5T578-96l56 33-36 62Z"],[1,"icon-link",3,"click","title"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-label","Monitored",1,"monitored-icon"],["d","M713-600 600-713l56-57 57 57 141-142 57 57-198 198ZM200-120v-640q0-33 23.5-56.5T280-840h280q-20 30-30 57.5T520-720q0 72 45.5 127T680-524q23 3 40 3t40-3v404L480-240 200-120Z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-label","Not Monitored",1,"not-monitored-icon"],["d","M200-120v-640q0-33 23.5-56.5T280-840h240v80H280v518l200-86 200 86v-278h80v400L480-240 200-120Zm80-640h240-240Zm400 160v-80h-80v-80h80v-80h80v80h80v80h-80v80h-80Z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960"],["d","m287-446.67 240 240L480-160 160-480l320-320 47 46.67-240 240h513v66.66H287Z"],["d","M673-446.67H160v-66.66h513l-240-240L480-800l320 320-320 320-47-46.67 240-240Z"],["src","assets/IMDBlogo.png","alt","IMDB",1,"xdb-icon"],["target","_blank","title","TMDB Link",3,"href"],["target","_blank","title","TVDB Link",3,"href"],["src","assets/TMDBlogo.png","alt","TMDB",1,"xdb-icon"],["src","assets/TVDBlogo.png","alt","TVDB",1,"xdb-icon"],["target","_blank","title","Radarr Movie Link",3,"href"],["target","_blank","title","Sonarr Movie Link",3,"href"],["src","assets/radarr_128.png","alt","Radarr",1,"arr-icon"],["src","assets/sonarr_128.png","alt","TVDB",1,"arr-icon"],["title","Search Trailer",1,"search-button","icon-link",3,"click"],["d","M801-108 537-372q-31 26-72.96 40-41.96 14-86.6 14-114.6 0-192.52-78Q107-474 107-586t78-190q78-78 190-78t190 78q78 78 78 190.15 0 43.85-13.5 84.35Q616-461 588-425l266 264-53 53ZM375.5-391q81.75 0 138.13-56.79Q570-504.58 570-586q0-81.42-56.29-138.21Q457.43-781 375.59-781q-82.67 0-139.13 56.79Q180-667.42 180-586q0 81.42 56.46 138.21Q292.92-391 375.5-391Z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 200 200"],["stroke-width","14","r","15","cx","40","cy","65"],["attributeName","cy","calcMode","spline","dur","2","values","65;135;65;","keySplines",".5 0 .5 1;.5 0 .5 1","repeatCount","indefinite","begin","-.4"],["stroke-width","14","r","15","cx","100","cy","65"],["attributeName","cy","calcMode","spline","dur","2","values","65;135;65;","keySplines",".5 0 .5 1;.5 0 .5 1","repeatCount","indefinite","begin","-.2"],["stroke-width","14","r","15","cx","160","cy","65"],["attributeName","cy","calcMode","spline","dur","2","values","65;135;65;","keySplines",".5 0 .5 1;.5 0 .5 1","repeatCount","indefinite","begin","0"],["id","update_trailer_search_query","tabindex","24",1,"primary","icononly-button","save-button","success",3,"click"],["d","M378-246 154-470l43-43 181 181 384-384 43 43-427 427Z"],["title","Watch Trailer on Youtube",1,"primary",3,"click"],["title","Download Trailer",1,"primary",3,"click","disabled"],[1,"loading-icon"],["title","Delete Trailer",1,"danger",3,"click"],[3,"downloads"],[3,"mediaId"]],template:function(n,a){if(n&1){let c=v();le(0),i(1,"div",1),_(2,Pi,1,0,"app-load-indicator",2),_(3,Xi,78,53,"div",3),o(),_(4,Ji,4,2),i(5,"dialog",4,0),u("click",function(){return m(c),p(a.closeDeleteDialog())}),i(7,"div",5),u("click",function(M){return m(c),p(M.stopPropagation())}),i(8,"h2"),l(9,"Delete Trailer"),o(),i(10,"p"),l(11,"This will Delete the trailer file on disk for this Media"),o(),i(12,"p"),l(13,"Are you sure?"),o(),i(14,"button",6),u("click",function(){return m(c),p(a.onConfirmDelete())}),l(15,"Delete"),o(),i(16,"button",7),u("click",function(){return m(c),p(a.closeDeleteDialog())}),l(17,"Cancel"),o()()()}if(n&2){let c=J(a.selectedMedia());r(2),g(a.isLoading()?2:-1),r(),g(c?3:-1),r(),g(c?4:-1)}},dependencies:[Be,Ue,it,$,te,ie,ne,B,me,Ae,ce],styles:[".media-details-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow-x:hidden;overflow-y:auto;margin:1rem;border:1px solid var(--color-outline);border-radius:10px;position:relative}@media(width<768px){.media-details-container[_ngcontent-%COMP%]{margin:.5rem}}.text-center[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);margin:auto}.media-details-card[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:1fr 3fr;padding:2rem;gap:2rem}.media-fanart-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:0;height:100%;background-size:cover;background-position:center;opacity:.4;border-radius:10px}.media-poster[_ngcontent-%COMP%]{z-index:2;display:flex;width:100%}.media-poster[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:300px;height:auto;object-fit:contain;margin-bottom:auto;view-transition-class:mediaimage}.media-details-col[_ngcontent-%COMP%]{z-index:2;flex:1;display:flex;flex-direction:column}.media-details-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin:.3rem;gap:.75rem}.media-details-row[_ngcontent-%COMP%]   .title-text[_ngcontent-%COMP%]{font-size:2.5rem;display:inline-block;overflow:hidden;max-width:70%;view-transition-class:mediatitle}.icon-link[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;text-decoration:none;transition:all .4s;cursor:pointer}.icon-link[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:40px;fill:var(--color-primary)}.nav-icons[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1rem;margin-left:auto;margin-right:1rem;align-items:flex-start}.nav-icons[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{background-color:var(--color-primary);fill:var(--color-on-primary);width:40px;height:40px;border-radius:50%}@media(width<765px){.nav-icons[_ngcontent-%COMP%]{position:relative}.nav-icons[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{position:fixed;bottom:10vh;z-index:10;left:2rem}.nav-icons[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{position:fixed;bottom:10vh;z-index:10;right:2rem}}.icon-link[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]{fill:var(--color-success)}.xdb-icon[_ngcontent-%COMP%]{width:60px;cursor:pointer;border-radius:4px}.arr-icon[_ngcontent-%COMP%]{height:30px;width:30px;cursor:pointer}.extras[_ngcontent-%COMP%]{flex-wrap:wrap}.labeled-text[_ngcontent-%COMP%]{display:flex;flex-direction:column}.labeled-text[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.75rem;opacity:.7;margin-bottom:.1rem}.labeled-input[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap!important;align-items:stretch;width:100%;border:1px solid var(--color-outline);border-radius:6px}.labeled-input[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;align-items:center;padding:.75rem;font-size:1rem;font-weight:400;color:var(--color-on-surface-variant);text-align:center;white-space:nowrap;background-color:var(--color-surface-container-high);border-right:1px solid var(--color-outline);border-top-left-radius:6px;border-bottom-left-radius:6px}.labeled-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1 1 auto;width:1%;min-width:100px;display:block;padding:.75rem;font-size:1rem;font-weight:400;color:var(--color-on-surface);border:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--color-surface-container);border-top-right-radius:6px;border-bottom-right-radius:6px}.input-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:.5rem}.loading-search[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{fill:var(--color-primary);stroke:var(--color-primary)}.save-button[_ngcontent-%COMP%]{height:40px;width:40px}.info-text[_ngcontent-%COMP%]{margin:.5rem;padding:.5rem;border-radius:.5rem;background-color:var(--color-info);color:var(--color-info-text);text-align:center}.loading-icon[_ngcontent-%COMP%]{display:inline-flex;justify-content:center;align-items:center}.loading-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1rem}.loading[_ngcontent-%COMP%]{animation:spin-animation 2s linear infinite}.dialog-content[_ngcontent-%COMP%]{background-color:var(--color-on-error-container);color:var(--color-on-error);padding:1rem;text-align:center}dialog[_ngcontent-%COMP%]::backdrop{background-image:linear-gradient(0deg,gray,#690005)}.dialog-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px}@media(max-width:765px){.media-details-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0;padding-top:2rem;gap:1rem}.media-poster[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;height:30vh;margin:0 auto}.media-details-col[_ngcontent-%COMP%]{align-items:center;margin:1rem;margin-top:0}.media-details-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin:.3rem;gap:.75rem}.media-details-row[_ngcontent-%COMP%]   .title-text[_ngcontent-%COMP%]{max-width:90%}}"]})}}return t})();var jo=[{path:"",loadComponent:()=>ot}];export{jo as default};
